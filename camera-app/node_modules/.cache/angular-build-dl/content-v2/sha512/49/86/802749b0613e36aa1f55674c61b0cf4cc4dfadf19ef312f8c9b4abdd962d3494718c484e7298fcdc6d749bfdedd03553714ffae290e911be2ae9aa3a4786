{"version":3,"sources":["webpack:///src/app/pages/show-images/show-images.page.html","webpack:///src/app/pages/show-images/show-images-routing.module.ts","webpack:///src/app/pages/show-images/show-images.module.ts","webpack:///src/app/pages/show-images/show-images.page.scss","webpack:///src/app/pages/show-images/show-images.page.ts"],"names":["routes","path","component","ShowImagesPageRoutingModule","imports","forChild","exports","ShowImagesPageModule","declarations","ShowImagesPage","downloader","loadingController","actionSheetController","base64ToGallery","toastController","alertController","router","service","menu","userid","localStorage","getItem","console","log","database","firestore","data","collection","where","onSnapshot","querySnapshot","myarr","forEach","doc","id","h","delid","Userid","picture","ImageUrl","uploadDate","storageid","push","userreq","length","create","message","duration","position","toast","present","e","clear","navigate","header","cssClass","buttons","text","role","icon","handler","presentAlertConfirm","download","actionSheet","blah","DeletePicture","alert","a","del","storageref","storage","ref","desertRef","child","then","enable","open","request","uri","title","description","mimeType","visibleInDownloadsUi","notificationVisibility","VisibleNotifyCompleted","destinationInExternalFilesDir","dirType","subPath","location","error","selector","template"],"mappings":"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","file":"pages-show-images-show-images-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n        <ion-icon name=\\\"menu-outline\\\" size=\\\"large\\\" (click)='showMenu()'></ion-icon> \\n     </ion-toolbar>\\n    </ion-header>\\n      <ion-menu side=\\\"start\\\" menuId=\\\"3\\\" contentId=\\\"main\\\" class=\\\"my-custom-menu\\\">\\n          <ion-toolbar>\\n            <div class = \\\"menu-header-bg\\\">\\n              <div class=\\\"header-content\\\">\\n           <ion-title>Show Images</ion-title> </div></div>\\n         </ion-toolbar> \\n       <!-- </ion-header> -->\\n       <ion-content>\\n         <ion-list>\\n            <ion-item [routerLink]=\\\"['/dashboard']\\\"><ion-icon name=\\\"home-outline\\\"></ion-icon>&nbsp;Dashboard</ion-item>\\n            <!-- <ion-item (click)=\\\"merchantLogout()\\\">Logout</ion-item> -->\\n            <!-- <ion-item [routerLink]=\\\"['/register']\\\">Register</ion-item> -->\\n            <ion-item [routerLink]=\\\"['/user-profile']\\\"><ion-icon name=\\\"person-circle-outline\\\"></ion-icon>&nbsp;Profile</ion-item>\\n\\n            <!-- <ion-item [routerLink]=\\\"['/search-date']\\\"><ion-icon name=\\\"calendar-outline\\\"></ion-icon>&nbsp;Search Image by Date</ion-item> -->\\n            <ion-item (click)=\\\"logout()\\\"><ion-icon name=\\\"log-out-outline\\\"></ion-icon>&nbsp;Logout</ion-item>\\n\\n\\n            <!-- <ion-item [routerLink]=\\\"['/merchant-reg']\\\">Register</ion-item> -->\\n    \\n           </ion-list>\\n        </ion-content>\\n      </ion-menu>\\n      <ion-router-outlet id=\\\"main\\\"></ion-router-outlet>\\n\\n<ion-content>\\n  <h3>Gallery</h3>\\n  <div *ngFor=\\\"let item of userreq\\\">\\n  <ion-card>\\n     <ion-card-header>\\n      <ion-card-title>{{item.uploadDate}}</ion-card-title>\\n    </ion-card-header> \\n  \\n    <ion-card-content>\\n     <img src=\\\"{{item.picture}}\\\" (click)=\\\"presentActionSheet(item.delid,item.storageid,item.picture)\\\">\\n    </ion-card-content>\\n  </ion-card>\\n</div>\\n\\n\\n\\n\\n\\n<!-- <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\">\\n  <ion-fab-button color=\\\"dark\\\" size=\\\"large\\\">\\n    <ion-icon md=\\\"caret-up\\\" ios=\\\"chevron-up-circle-outline\\\" size=\\\"large\\\"></ion-icon>\\n  </ion-fab-button>\\n  <ion-fab-list side=\\\"top\\\">\\n\\n    <ion-fab-button color=\\\"light\\\"(click)=\\\"dashboard()\\\">\\n      <ion-icon name=\\\"cloud-upload-outline\\\" ></ion-icon>\\n        </ion-fab-button>\\n    <ion-fab-button color=\\\"light\\\" (click)=\\\"search()\\\">\\n      <ion-icon name=\\\"search\\\"></ion-icon>\\n    </ion-fab-button>\\n    \\n  </ion-fab-list>\\n</ion-fab> -->\\n\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-tabs>\\n\\n        \\n  \\n      <ion-tab-bar slot=\\\"bottom\\\">\\n        <ion-tab-button tab=\\\"dashboard\\\" (click)=\\\"dashboard()\\\">\\n          <ion-label>Upload</ion-label>\\n          <ion-icon name=\\\"cloud-upload-outline\\\"></ion-icon>\\n            </ion-tab-button>\\n        <ion-tab-button tab=\\\"search\\\" (click)=\\\"search()\\\">\\n          <ion-label>Search image</ion-label>\\n          <ion-icon name=\\\"search-outline\\\"></ion-icon>\\n        </ion-tab-button>\\n      </ion-tab-bar>\\n    </ion-tabs> \\n  </ion-toolbar>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ShowImagesPage } from './show-images.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ShowImagesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ShowImagesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ShowImagesPageRoutingModule } from './show-images-routing.module';\n\nimport { ShowImagesPage } from './show-images.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ShowImagesPageRoutingModule\n  ],\n  declarations: [ShowImagesPage]\n})\nexport class ShowImagesPageModule {}\n","export default \"* {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n}\\n\\n.menu-header-bg {\\n  height: 180px;\\n  width: 350px;\\n  background-color: #7590d6;\\n  background: linear-gradient(90deg, #7590d6 0%, #4d71d7 100%);\\n  box-shadow: 0px 1px 10px rgba(98, 140, 255, 0.5);\\n  transform: rotate(-15deg);\\n  border-radius: 10px 10px 10px 50px;\\n  margin-left: -18px;\\n  margin-top: -50px;\\n  margin-bottom: 60px;\\n}\\n\\nh3 {\\n  text-align: center;\\n}\\n\\n.header-content {\\n  position: absolute;\\n  top: 80px;\\n  left: 15px;\\n  display: flex;\\n  align-items: center;\\n  align-content: center;\\n  transform: rotate(15deg);\\n}\\n\\n.ion-fab {\\n  size: 200;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2hvdy1pbWFnZXMvc2hvdy1pbWFnZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0lBQUE7QUFDSjs7QUFFRTtFQUVFLGFBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSw0REFBQTtFQUNBLGdEQUFBO0VBQ0EseUJBQUE7RUFDQSxrQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQUFKOztBQUVFO0VBQ0Usa0JBQUE7QUFDSjs7QUFFRTtFQUNFLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLHdCQUFBO0FBQ0o7O0FBRUU7RUFFRSxTQUFBO0FBQUoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zaG93LWltYWdlcy9zaG93LWltYWdlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIqe1xyXG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBPeHlnZW4sIFVidW50dSwgQ2FudGFyZWxsLCAnT3BlbiBTYW5zJywgJ0hlbHZldGljYSBOZXVlJywgc2Fucy1zZXJpZjtcclxuICB9XHJcbiAgXHJcbiAgLm1lbnUtaGVhZGVyLWJnICBcclxuICB7XHJcbiAgICBoZWlnaHQ6IDE4MHB4O1xyXG4gICAgd2lkdGg6IDM1MHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzc1OTBkNjtcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzc1OTBkNiAwJSwgIzRkNzFkNyAxMDAlKTtcclxuICAgIGJveC1zaGFkb3c6IDBweCAxcHggMTBweCByZ2JhKDk4LDE0MCwyNTUsMC41KTtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKC0xNWRlZyk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMTBweCA1MHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xOHB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTUwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA2MHB4O1xyXG4gIH1cclxuICBoM3tcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgLmhlYWRlci1jb250ZW50e1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA4MHB4O1xyXG4gICAgbGVmdDogMTVweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMTVkZWcpO1xyXG4gIH0gXHJcblxyXG4gIC5pb24tZmFiXHJcbiAge1xyXG4gICAgc2l6ZTogMjAwO1xyXG4gIH0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport firebase from 'firebase';\nimport { Img } from 'src/app/interfaces/interface';\nimport { ActionSheetController, MenuController, AlertController, ToastController, LoadingController } from '@ionic/angular';\nimport { ServiceService } from 'src/app/services/service.service';\nimport { Router } from '@angular/router';\nimport { Base64ToGallery, Base64ToGalleryOptions } from '@ionic-native/base64-to-gallery/ngx';\nimport { Downloader, DownloadRequest, NotificationVisibility } from '@ionic-native/downloader/ngx';\n@Component({\n  selector: 'app-show-images',\n  templateUrl: './show-images.page.html',\n  styleUrls: ['./show-images.page.scss'],\n})\nexport class ShowImagesPage implements OnInit {\n  userreq: Img[];\n\n  // tslint:disable-next-line: max-line-length\n  constructor(private downloader: Downloader, public loadingController: LoadingController, public actionSheetController: ActionSheetController, private base64ToGallery: Base64ToGallery, public toastController: ToastController, public alertController: AlertController, private router: Router, private service: ServiceService, private menu: MenuController) {\n    const userid = localStorage.getItem('userid');\n    console.log('zzp', userid);\n\n\n    const database = firebase.firestore();\n    const data = database.collection('userUploads').where('Userid', '==', userid);\n    try{\n      data.onSnapshot(async (querySnapshot) => {\n         const myarr = [];  // empty array create korlam\n         querySnapshot.forEach((doc) => {\n           console.log(doc.id);\n\n           const h = {\n             delid: doc.id,\n             userid: doc.data().Userid,    // object create\n             picture: doc.data().ImageUrl,\n             uploadDate: doc.data().uploadDate,\n             storageid: doc.data().storageid\n           };\n           myarr.push(h);  // array push\n\n          });\n         this.userreq = myarr;\n         console.log('ArrayofObj', this.userreq);  // print\n         if (this.userreq.length === 0 )\n    {\n      const toast = await this.toastController.create({\n        message: 'No Saved Image Found',\n        duration: 2000,\n        position: 'middle',\n      });\n      toast.present();    }\n        });\n    }catch (e)\n    {\n      console.log('error');\n    }\n }\n\n  ngOnInit() {\n  }\n\n  logout()\n  {\n    localStorage.clear();\n    this.router.navigate(['/login']);\n  }\n\n\n\n\n\n    async presentActionSheet(delid: string, storageid: string, picture: string) {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Albums',\n      cssClass: 'my-custom-class',\n      buttons: [{\n        text: 'Delete',\n        role: 'destructive',\n        icon: 'trash',\n        handler: () => {\n          console.log('Delete clicked');\n          this.presentAlertConfirm(delid, storageid);\n\n        }\n      },\n       {\n         text: 'download',\n         icon: 'download',\n         handler: () => {\n           console.log('download clicked');\n           this.download(picture);\n         }},\n         {\n        text: 'Cancel',\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      }]\n    });\n    await actionSheet.present();\n  }\n\n\n  async presentAlertConfirm(delid: string, storageid: string) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Delete!',\n      message: 'Are you <strong>Sure</strong>?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Okay',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.DeletePicture(delid, storageid);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n\n// delete\n\n\n  DeletePicture(delid: string, storageid: string)\n  {\n    console.log('momo', delid);\n    const a = this.service.del(delid);\n    console.log(a);\n\n    const storageref = firebase.storage().ref();\n    const desertRef = storageref.child('images' + '/' + storageid);\n    desertRef.delete().then(() =>\n    {\n      console.log('deleted from storage'); //\n    }).catch(() => {\n      console.log('Del Failed'); //\n    });\n\n}\n\ndashboard()\n{\n  this.router.navigate(['/dashboard']);\n}\n\nsearch()\n{\n  this.router.navigate(['/search-date']);\n\n}\n\nshowMenu()\n  {\n    this.menu.enable(true, '3');\n    this.menu.open('3');\n  }\n\n// saveDevice(picture: string)\n// {\n\n//   const base64option: Base64ToGalleryOptions =\n//   {\n//     prefix: 'img',\n//     mediaScanner: true,\n\n//   };\n\n//   // const todecode = atob(picture);\n//   // console.log(todecode);\n\n\n//   this.base64ToGallery.base64ToGallery(picture, base64option).then(\n//     res => alert('Saved image to gallery ' + JSON.stringify(res)),\n//     err => alert('Error saving image to gallery ' + JSON.stringify(err)),\n//   ).catch((e) => {\n//     alert(e);\n//   });\n\n// }\n\nasync presentToasct() {\n  const toast = await this.toastController.create({\n    message: 'Your settings have been saved.',\n    duration: 2000\n  });\n  toast.present();\n}\n\ndownload(picture: string)\n{\n  const request: DownloadRequest = {\n    uri: picture,\n    title: 'MyDownload',\n    description: '',\n    mimeType: '',\n    visibleInDownloadsUi: true,\n    notificationVisibility: NotificationVisibility.VisibleNotifyCompleted,\n    destinationInExternalFilesDir: {\n        dirType: 'Downloads',\n        subPath: 'MyFile.apk'\n    }\n};\n\n\n  this.downloader.download(request)\n        .then((location: string) => {\n          alert('Downloaded');\n        })\n        .catch((error: any) => console.error(error));\n}\n\n\n\n}\n"]}